<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.manage.mapper.EmpMapper">
	
	<!-- 절대 끝에 세미콜로(;) 붙이지 말기!!! -->
	
		<!-- 1. 사원이름으로 검색 -->
	<!-- 이거 다했으면 mapper 인터페이스쪽으로 이동 -->
	<select id="getEmpList" parameterType="com.manage.entity.EmpVO" resultType="com.manage.entity.EmpVO">
		select * 
		from TBL_EMPLOYEE 
			LEFT OUTER JOIN TBL_DEPARTMENT 
			ON TBL_EMPLOYEE.DEPT_ID = TBL_DEPARTMENT.DEPT_ID 
		where EMP_NM = #{EMP_NM}
	</select>

 	 <!--1-2. 사원정보 수정하기 	-->
	<update id="updateEmp" parameterType="com.manage.entity.EmpVO">
		UPDATE TBL_EMPLOYEE SET
		      EMP_NM    = #{EMP_NM, jdbcType=VARCHAR}
		    <!-- , DEPT_ID   = #{DEPT_ID}  -->
		    , EMP_JBGD  = #{EMP_JBGD, jdbcType=VARCHAR}
		    , EMP_TELNO = #{EMP_TELNO, jdbcType=VARCHAR}
		    , EMP_ADDR  = #{EMP_ADDR, jdbcType=VARCHAR}
		WHERE EMP_ID = #{EMP_ID}
	</update>

	<!-- 1-3. 사원정보 삭제하기 -->
	<delete id="deleteEmp" parameterType="com.manage.entity.EmpVO">
		delete from TBL_EMPLOYEE 
		where EMP_ID = #{EMP_ID}
	</delete>

	<!-- 1-4. 사원 신규등록
	<insert id="getEmpList" parameterType="com.manage.entity.EmpVO">
		insert into TBL_EMPLOYEE
		values ('${EMP_ID}' , '${EMP_NM}' , "${EMP_JBGD}' , '${EMP_TELNO}' , '${EMP_ADDR}')
	</insert> -->
 

</mapper>